{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2019-09-11-serverless-and-twilio/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"567407c0-e738-5b59-9b4d-b80f98c43f3e","excerpt":"The way people communicate has changed over the last few years. When was the last time you called a service-number because you had a problem? For me, this is…","html":"<p>The way people communicate has changed over the last few years. When was the last time you called a service-number because you had a problem? For me, this is already years ago, and I most often use chat interfaces when they’re available. </p>\n<p>These new interfaces are usually automated to a certain extent – it’s hard to tell if a human or a machine is replying to your question. Developers have the power to build interfaces that go beyond what we’re used to. Alexa, Whatsapp, emails, SMS – you can automate all these channels.</p>\n<p><a href=\"https://www.twilio.com\">Twilio is a communications API</a> that enables you to tailor the experience to your needs. Want to do an SMS poll? No problem! Need a custom chatbot on your landing pages? Sure thing! Want to bring all your friends into a group phone call? Easy peasy!</p>\n<h4>Webhooks – the foundation of future interfaces</h4>\n<p>As a developer, you probably won’t build the infrastructure to send SMS or make phone calls. You’ll use SDKs and APIs for that. The way it works is that you can use Twilio’s RESTful API to initiate outbound communications. Phone calls, SMS, WhatsApp messages are only one HTTP call away.</p>\n<p>The other way around is a little bit trickier. How do you react to incoming messages or phone calls when you’re not controlling the infrastructure receiving these events? <a href=\"https://www.twilio.com/docs/glossary/what-is-a-webhook\">Webhooks</a> build the foundation for that.</p>\n<p>If someone sends a message, makes a phone call, or uses any other channel a webhook is sent to a URL you define. The response of the webhook controls what happens next.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/serverless-and-twilio/image3.png\" alt=\"SMS, Twilio, App\"></p>\n<p>In the above example, you see the flow for an incoming SMS. A user sends an SMS, Twilio handles this event and makes an HTTP request to your app to find out what to do next. </p>\n<p><strong>But do you want to build a whole app to respond to an HTTP request? Or could a serverless function do the job?</strong></p>\n<h4>The Serverless Framework now supports deploying Twilio Functions</h4>\n<p>Serverless functions are a perfect fit for responding to HTTP calls. <a href=\"https://www.twilio.com/docs/runtime\">The Twilio Runtime</a> gives you a way to write serverless functions today. <strong>We’re happy to announce that you can now deploy Twilio Functions using the Serverless Framework.</strong></p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/serverless-and-twilio/image4.png\" alt=\"SMS, Twilio, Serverless\"></p>\n<p>If you’re used to working with the Serverless Framework, there is no need to learn a new API. You can continue using the Serverless Framework to control your Twilio communications!</p>\n<h4>Deploy Twilio serverless functions in two minutes</h4>\n<p>Starting with the Serverless CLI <code class=\"language-text\">v1.50.0</code>, you can bootstrap a Twilio Runtime project with a single command. In this post you’ll learn how to do that.</p>\n<p>Make sure you have the <a href=\"https://www.npmjs.com/package/serverless\">Serverless CLI</a> installed globally and run <code class=\"language-text\">serverless create</code> with the Twilio Node.js template.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">serverless create -t twilio-nodejs -p my-twilio-project</code></pre></div>\n<p>Navigate into the new directory <code class=\"language-text\">my-twilio-project</code> and run <code class=\"language-text\">npm install</code>. Before you deploy a new serverless service, you need to authenticate. Head over to your <a href=\"https://twilio.com/console\">Twilio Console</a> and copy your account credentials (the Account SID and Auth token).</p>\n<p>Define the two authentication values as environment variables and deploy the new project using <code class=\"language-text\">serverless deploy</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd my-twilio-project\nnpm install\nTWILIO_ACCOUNT_SID=AC... TWILIO_AUTH_TOKEN=a4... serverless deploy</code></pre></div>\n<p>The command output should look as follows.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Serverless: Packaging service...\nServerless: Excluding development dependencies...\nServerless: twilio-runtime: Creating Service\nServerless: twilio-runtime: Configuring &quot;dev&quot; environment\nServerless: twilio-runtime: Creating 1 Functions\nServerless: twilio-runtime: Uploading 1 Functions\nServerless: twilio-runtime: Creating 1 Assets\nServerless: twilio-runtime: Uploading 1 Assets\nServerless: twilio-runtime: Waiting for deployment.\nServerless: twilio-runtime: Waiting for deployment. Current status: building\nServerless: twilio-runtime: Waiting for deployment. Current status: building\nServerless: twilio-runtime: Waiting for deployment. Current status: building\nServerless: twilio-runtime: Waiting for deployment. Current status: building\nServerless: twilio-runtime: Setting environment variables\nServerless: twilio-runtime: Activating deployment\nServerless: twilio-runtime: Function available at: my-twilio-project-7724-dev.twil.io/hello/world\nServerless: twilio-runtime: Asset available at: my-twilio-project-7724-dev.twil.io/assets/foo/example.jpg</code></pre></div>\n<p>Congratulations! 🎉 You just deployed your first Twilio Runtime service that is able to serve functions and assets using the Serverless CLI. The URLs displayed in the deploy log are now publicly available.</p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/serverless-and-twilio/image2.png\" alt=\"Twilio runtime page\"></p>\n<p>How does that work? And how can you tweak Twilio functions to your needs? Let’s find out!</p>\n<h5>The file structure of a Serverless Twilio project</h5>\n<p>The <code class=\"language-text\">create</code> command created all the files you need – ready-to-deploy. It includes the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.rw-r--r--   .gitignore\n.rw-r--r--   example.jpg\n.rw-r--r--   handler.js\ndrwxr-xr-x   node_modules\n.rw-r--r--   package-lock.json\n.rw-r--r--   package.json\n.rw-r--r--   serverless.yml</code></pre></div>\n<p>You see the familiar <code class=\"language-text\">serverless.yml</code> configuration file, a <code class=\"language-text\">package.json</code> and <code class=\"language-text\">package-lock.json</code>, and a function (<code class=\"language-text\">handler.js</code>) and asset file (<code class=\"language-text\">example.jpg</code>).</p>\n<p>The project has only one npm dependency defined inside of the <code class=\"language-text\">package.json</code>: <a href=\"https://www.npmjs.com/package/@twilio-labs/serverless-twilio-runtime\">@twilio-labs/serverless-twilio-runtime</a>. You installed this dependency already, and if you now have a look at the <code class=\"language-text\">serverless.yml</code>, you’ll see that it defines <code class=\"language-text\">@twilio-labs/serverless-twilio-runtime</code> as a plugin.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># serverless.yml</span>\n<span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token string\">'@twilio-labs/serverless-twilio-runtime'</span></code></pre></div>\n<p>This plugin definition makes it possible to deploy to the Twilio Runtime.</p>\n<p>The <code class=\"language-text\">serverless.yml</code> holds more configuration than the plugin definition, though. It also configures the runtime and provides a quick way to define and deploy serverless functions and assets.</p>\n<h4>General configuration</h4>\n<p>The main configuration for your serverless service happens inside of the <code class=\"language-text\">provider</code> property. Twilio is the provider in this case. </p>\n<p>You have the following configuration options:</p>\n<ul>\n<li>Authentication (required)</li>\n<li>Dependencies</li>\n<li>Name of the deployed environment</li>\n<li>Environment variables accessible inside of your functions</li>\n</ul>\n<p>Let’s go over these options one-by-one.</p>\n<h5>Authenticate your serverless services with Twilio</h5>\n<p>To deploy functions to the Twilio Runtime, you have to define your <code class=\"language-text\">accountSid</code> and an <code class=\"language-text\">authToken</code>. You could potentially hardcode these values in your <code class=\"language-text\">serverless.yml</code> but it is recommended to pass these values via environment variables (<code class=\"language-text\">${env:TWILIO_ACCOUNT_SID}</code> and <code class=\"language-text\">${env:TWILIO_AUTH_TOKEN}</code>). This way, you don’t risk to push your sensible credentials to GitHub.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># serverless.yml</span>\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> twilio\n  <span class=\"token comment\"># Auth credentials which you'll find at twilio.com/console</span>\n  <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">accountSid</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>env<span class=\"token punctuation\">:</span>TWILIO_ACCOUNT_SID<span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">authToken</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>env<span class=\"token punctuation\">:</span>TWILIO_AUTH_TOKEN<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The above configuration is the reason why the command <code class=\"language-text\">TWILIO_ACCOUNT_SID=AC… TWILIO_AUTH_TOKEN=a8… serverless deploy</code> works. The <code class=\"language-text\">serverless</code> command picks up the environment variables and passes them to the Twilio Runtime plugin.</p>\n<h5>Define needed npm dependencies</h5>\n<p>If you have experience using the Serverless Framework, you may be used to the process of packaging dependencies into a single bundle. The Twilio Runtime handles dependencies differently.</p>\n<p>The <code class=\"language-text\">deploy</code> command does not need to pack all your local dependencies into a single package to upload. The Twilio Runtime allows you to define your dependencies, and you only need to upload your function and asset files. The rest just works!</p>\n<p>Having a look at the <code class=\"language-text\">serverless.yml</code>, you’ll see that the bootstrap project has one dependency – <code class=\"language-text\">asciiart-logo</code>. The definition of dependencies is similar to <code class=\"language-text\">package.json</code> dependency definitions.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># serverless.yml</span>\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Twilio runtime as your preferred provider</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> twilio\n\n  <span class=\"token comment\"># Dependency definitions similar</span>\n  <span class=\"token comment\"># to dependencies in a package.json</span>\n  <span class=\"token comment\"># -> these dependencies will be available in the</span>\n  <span class=\"token comment\">#    Twilio Node.js runtime</span>\n  <span class=\"token key atrule\">dependencies</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">asciiart-logo</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'*'</span></code></pre></div>\n<p>You can now include <code class=\"language-text\">const logo = require(&#39;asciiart-logo&#39;);</code> in your function files and the dependency will be available.</p>\n<h5>Define your environment</h5>\n<p>If you’re heavily relying on serverless functions, you’ll find yourself facing increased complexity quickly. To tackle this complexity, you can safely deploy QA and staging environments to test your functions before they go into production.</p>\n<p>The <code class=\"language-text\">environment</code> property lets you deploy different environments to the Twilio Runtime. </p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Twilio runtime as your preferred provider</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> twilio\n\n  <span class=\"token comment\"># Twilio runtime supports several domains</span>\n  <span class=\"token comment\"># your functions and assets will be available under</span>\n  <span class=\"token comment\"># -> defaulting to 'dev'</span>\n  <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>env<span class=\"token punctuation\">:</span>TWILIO_RUNTIME_ENV<span class=\"token punctuation\">,</span> <span class=\"token string\">'dev'</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>The <code class=\"language-text\">environment</code> property is also defaulting to <code class=\"language-text\">dev</code> and you can change it via the environment variable <code class=\"language-text\">TWILIO_RUNTIME_ENV</code>. </p>\n<p>A deployed Twilio function URL consists of the service name, a random hash, and the defined environment. The endpoint URL <code class=\"language-text\">my-twilio-project-7724-dev.twil.io/hello/world</code> tells you that you’re looking at a function in the <code class=\"language-text\">dev</code> environment included in the <code class=\"language-text\">my-twilio-project</code> service.</p>\n<h5>Define accessible environment variables</h5>\n<p>When deploying functions to the Twilio Runtime, you may also need a way to define variables that will be available in the function context. These environment variables can be handy to store authentication tokens for other services, to define used endpoints or any dynamic values.</p>\n<p>The <code class=\"language-text\">environmentVars</code> property lets you define these values. They will be available in the <code class=\"language-text\">context</code> property when your functions are executed.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># serverless.yml</span>\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Twilio runtime as your preferred provider</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> twilio\n\n  <span class=\"token comment\"># Environment variables passed to your functions</span>\n  <span class=\"token comment\"># available via process.env</span>\n  <span class=\"token key atrule\">environmentVars</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">MY_MESSAGE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'This is cool stuff'</span></code></pre></div>\n<p>The above <code class=\"language-text\">provider</code> properties are all the configurations you need to tailor your functions deployment to your use case! But where are the function definitions and how come there was an asset deployed?</p>\n<h5>Define your functions</h5>\n<p>You can define and configure functions by editing the <code class=\"language-text\">functions</code> property in your <code class=\"language-text\">serverless.yml</code>. When you look at it, there is already one function defined. </p>\n<p>Every function definition has to export a <code class=\"language-text\">handler</code> as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handler</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* … */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The <code class=\"language-text\">function</code> property tells Serverless to use <code class=\"language-text\">handlers.js</code>, make it available at <code class=\"language-text\">/hello/world</code> and make it publicly accessible.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># serverless.yml</span>\n<span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">hello-world</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Path to the JS handler function in the project (without file extension '.js')</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler\n    <span class=\"token comment\"># URL path of the function after deployment</span>\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /hello/world\n    <span class=\"token comment\"># visibility of the function (can be \"public\" or \"protected\")</span>\n    <span class=\"token key atrule\">access</span><span class=\"token punctuation\">:</span> public</code></pre></div>\n<p>You can read more about Twilio functions <a href=\"https://www.twilio.com/docs/runtime/functions-assets-api/api/function-version\">in the docs</a>.</p>\n<h5>Define your assets</h5>\n<p>The Twilio Runtime allows you to upload assets via the <code class=\"language-text\">assets</code> property. You can access these assets then inside of your deployed functions. The combination of assets and functions can become handy if you want to play an audio file or want to respond to a message with a specific image.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">assets</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Asset name</span>\n    <span class=\"token key atrule\">example-image</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># path to the asset in the project</span>\n      <span class=\"token key atrule\">filePath</span><span class=\"token punctuation\">:</span> example.jpg\n      <span class=\"token comment\"># URL path to the asset after deployment</span>\n      <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /assets/foo/example.jpg\n      <span class=\"token comment\"># visibility of the asset</span>\n      <span class=\"token key atrule\">access</span><span class=\"token punctuation\">:</span> public</code></pre></div>\n<p>To learn more about how to use assets in your functions have a look <a href=\"https://www.twilio.com/docs/runtime/client#runtime-client-methods\">at the docs</a>.</p>\n<p>With these function and asset definitions, you are able to deploy a new service in just a few minutes. 🎉</p>\n<h4>Other included Serverless commands</h4>\n<p>The Serverless Twilio integration supports two other commands – <code class=\"language-text\">invoke</code> and <code class=\"language-text\">info</code>.</p>\n<h5>Invoke</h5>\n<p><code class=\"language-text\">invoke</code> is a command that you can use to call a deployed function to see if the response is what you expect.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">TWILIO_ACCOUNT_SID=AC... TWILIO_AUTH_TOKEN=a4... serverless invoke -f hello-world\n\n  ,--------------------------------------------------------------------------.\n  |                                                                          |\n  |    _____          _ _ _         ____              _   _                  |\n  |   |_   _|_      _(_) (_) ___   |  _ \\ _   _ _ __ | |_(_)_ __ ___   ___   |\n  |     | | \\ \\ /\\ / / | | |/ _ \\  | |_) | | | | &#39;_ \\| __| | &#39;_ ` _ \\ / _ \\  |\n  |     | |  \\ V  V /| | | | (_) | |  _ &lt;| |_| | | | | |_| | | | | | |  __/  |\n  |     |_|   \\_/\\_/ |_|_|_|\\___/  |_| \\_\\\\__,_|_| |_|\\__|_|_| |_| |_|\\___|  |\n  |                                                                          |\n  |                                                                          |\n  |                                                           version 1.0.0  |\n  |                                                                          |\n  |                                                                          |\n  `--------------------------------------------------------------------------&#39;</code></pre></div>\n<h5>Info</h5>\n<p>The <code class=\"language-text\">info</code> command gives you information about your deployed service.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">TWILIO_ACCOUNT_SID=AC... TWILIO_AUTH_TOKEN=a4... serverless info\n\nService information\n*******\n\nService: tutorial-try-out\nService Sid: ZSd5030028ddd5b0714f3981865c80b90d\n\nEnvironment: dev\nEnvironment unique name: dev-environment\nEnvironment Sid: ZEf282491f28a513bb310f4f1c167a55d3\nEnvironment domain name: tutorial-try-out-7724-dev.twil.io\nEnvironment variables:\n  MY_MESSAGE: THIS IS cool stuff\n\nAssets:\n  access: public\n  creation date: 2019-09-03T09:51:08Z\n  path: /assets/foo/example.jpg\n  sid: ZN60c9751befba796c9190cd789f400568\n  url: https://tutorial-try-out-7724-dev.twil.io/assets/foo/example.jpg\n\nFunctions:\n  access: public\n  creation date: 2019-09-03T09:51:07Z\n  path: /hello/world\n  sid: ZN06e8bd0c672045dbc1134de22ebe7fda\n  url: https://tutorial-try-out-7724-dev.twil.io/hello/world</code></pre></div>\n<p>Using the <code class=\"language-text\">info</code> command, you can quickly get information about deployed functions, assets and service configuration.</p>\n<h4>Twilio serverless functions – the environment tailored to power your communication flows</h4>\n<p>After the first deployment, the new function endpoint only returns a string with ASCII art. How can you change it to respond to webhooks for incoming SMS the correct way?</p>\n<p>A Twilio function provides you with a global <code class=\"language-text\">Twilio</code> variable that includes a <code class=\"language-text\">twiml</code> object to build the correct response. <a href=\"https://www.youtube.com/watch?v=fb0rKmGGyq8\">TwiML</a> is Twilio’s configuration language to control communication flows. Go into the <code class=\"language-text\">handler.js</code> file, drop the ASCII art, and change it to respond to incoming HTTP calls with some <a href=\"https://www.twilio.com/docs/glossary/what-is-twilio-markup-language-twiml\">TwiML</a>. </p>\n<p>If you <a href=\"https://www.twilio.com/docs/sms/tutorials/how-to-receive-and-reply-python\">define the function URL as a webhook for a phone number</a>, sent-in messages would get the combination of “Hello!” and the defined environment variable as a response.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// handler.js</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handler</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> twiml <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Twilio<span class=\"token punctuation\">.</span>twiml<span class=\"token punctuation\">.</span>MessagingResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  twiml<span class=\"token punctuation\">.</span><span class=\"token function\">message</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello! </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>context<span class=\"token punctuation\">.</span><span class=\"token constant\">MY_MESSAGE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> twiml<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Rerun the <code class=\"language-text\">deploy</code> command, and you’re ready to handle incoming messages with Twilio.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">TWILIO_ACCOUNT_SID=AC... TWILIO_AUTH_TOKEN=a4... serverless deploy</code></pre></div>\n<p><strong>Twilio functions are built to answer Twilio webhooks and glue services together quickly</strong></p>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/serverless-and-twilio/image1.jpg\" alt=\"Twilio XML\"></p>\n<h5>Additional resources</h5>\n<p>We’re very excited about the Serverless integration. It’s still pretty new, and we’re working on getting more docs onto serverless.com and adding more commands to the CLI. What functionality are you missing? We’d love to get some feedback on it!</p>\n<p>If you want to read more about Twilio functions, you can have a look here:</p>\n<ul>\n<li><a href=\"https://www.twilio.com/docs/runtime/functions-assets-api\">The documentation for Twilio functions</a></li>\n<li><a href=\"https://github.com/twilio-labs/serverless-framework-integration/\">The Serverless Twilio integration</a></li>\n</ul>","frontmatter":{"title":"How to use Serverless and Twilio to automate your communication channels","date":"September 11, 2019","description":"We’re happy to announce that you can now deploy Twilio Functions using the Serverless Framework. Here's how!"}}},"pageContext":{"slug":"/posts/2019-09-11-serverless-and-twilio/","previous":{"fields":{"slug":"/posts/2019-08-27-setup-monitoring-for-existing-serverless-projects-in-2min/"},"frontmatter":{"title":"Setup monitoring for existing Serverless projects in 2 minutes"}},"next":{"fields":{"slug":"/posts/2019-09-12-monitor-and-debug-all-serverless-errors/"},"frontmatter":{"title":"Monitor and debug all serverless errors"}}}}}