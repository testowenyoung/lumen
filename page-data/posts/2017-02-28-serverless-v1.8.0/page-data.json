{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2017-02-28-serverless-v1.8.0/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"e73c6cb4-e175-527d-a24d-271f4589ea83","excerpt":"Today we’re proud to announce v1.8 of the Serverless Framework. v1.8 is yet another special release since we’re officially introducing support for Azure via the…","html":"<p>Today we’re proud to announce v1.8 of the Serverless Framework.</p>\n<p>v1.8 is yet another special release since we’re officially introducing support for Azure via the <a href=\"https://github.com/serverless/serverless-azure-functions\">Serverless Azure functions plugin</a>!</p>\n<p>Let’s take a deep dive into the highlights of this release.</p>\n<h2>Highlights of 1.8.0</h2>\n<p><strong>Note:</strong> You can find a complete list of all the updates in the <a href=\"https://github.com/serverless/serverless/blob/master/CHANGELOG.md\">changelog</a>.</p>\n<h3>Azure functions provider plugin</h3>\n<p>It finally arrived. The next provider support for the Serverless Framework is here!</p>\n<p>We’re proud to announce the official <a href=\"https://github.com/serverless/serverless-azure-functions\">Azure functions provider plugin</a> for the Serverless Framework!</p>\n<p>You can read the <a href=\"https://serverless.com/blog/azure-functions-and-possibility/\">announcement blog post</a> for more information.</p>\n<p>Now you’re able to write and deploy Azure function applications with the help of the Serverless Framework. Curious what this looks like? Here are some resources to help you get started:</p>\n<ol>\n<li><a href=\"https://serverless.com/framework/docs/providers/azure/guide/quickstart/\">Quickstart guide</a></li>\n<li><a href=\"https://serverless.com/framework/docs/providers/azure/\">Serverless Azure Functions documentation</a></li>\n<li><a href=\"https://github.com/serverless/examples/tree/master/azure-node-simple-http-endpoint\">HTTP example</a></li>\n</ol>\n<p>Give it a spin and let us know what you think!</p>\n<p><strong>Pro tip:</strong> Sign up via the <a href=\"https://azure.microsoft.com/en-us/free/\">free trial</a> to get a whopping $200 of free credit.</p>\n<h3>BREAKING - Introducing inline policies</h3>\n<p>Until now we’ve created a separate <code class=\"language-text\">IamPolicyLambdaExecution</code> resource so that your Lambda functions can interact and execute code appropriately.</p>\n<p><a href=\"https://github.com/serverless/serverless/pull/2983\">PR #2983</a> updates this behavior so that inline policies are used rather than a separate CloudFormation resource.</p>\n<p>This change fixes a bunch of related issues with e.g. VPC setups.</p>\n<p><strong>Note:</strong> This is a breaking change which affects all users / plugin authors who reference the <code class=\"language-text\">IamPolicyLambdaExecution</code> resource since it’s removed in v1.8.</p>\n<h3>Fix file streams during zipping</h3>\n<p>Recently we’ve switched from a memory intensive <code class=\"language-text\">fs.readFileSync</code> implementation to a <code class=\"language-text\">fs.createReadStream</code> implementation for the code zipping (see <a href=\"https://github.com/serverless/serverless/pull/3220/files\">#3220</a>).</p>\n<p>This change reduced the memory footprint by about ~40% which is important when Serverless is used on low power hardware like CI / CD systems or virtual machines.</p>\n<p>Unfortunately this fix creates another problem. Old Node versions tend to keep too many files open which results in an error during the zipping process (see <a href=\"https://github.com/serverless/serverless/issues/3249\">#3249</a>).</p>\n<p>We’ve tried different approaches to provide a quick fix for this issue. One was to use the <a href=\"https://github.com/isaacs/node-graceful-fs\"><code class=\"language-text\">graceful-fs</code></a> npm package to wrap the <code class=\"language-text\">fs.createReadStream</code> usage. However, those solutions weren’t sufficient enough to get into a stable state again.</p>\n<p>For v1.8 we decided to switch back to <code class=\"language-text\">fs.readFileSync</code> (see <a href=\"https://github.com/serverless/serverless/pull/3310\">#3310</a>) and investigate further.</p>\n<p>This is just a temporary fix. We’ll work on a long term fix so that a read stream is used again to reduce the memory usage.</p>\n<p>Have some ideas about how we can solve this and want to help? Here’s the corresponding issue where we capture the progress: <a href=\"https://github.com/serverless/serverless/issues/3311\">#3311</a>!</p>\n<h3>Fix monitorStack freezing bug</h3>\n<p>We were finally able to reproduce a nasty bug which caused Serverless deployments to freeze in the <code class=\"language-text\">Checking Stack update progress...</code> status.</p>\n<p>This problem was introduced due to a clock drift where the time of your local machine is slightly in the future causing AWS server to report incorrect updates about your CloudFormation status.</p>\n<p>Luckily we were able to <a href=\"https://github.com/serverless/serverless/pull/3297\">fix this</a> in a way where the status checking is not dependent on your local machines time anymore.</p>\n<h3>BREAKING - Different displaying of function name in info command</h3>\n<p>New users coming to the Serverless Framework faced some issues with the different names the function is refered to on their local machine vs. AWS.</p>\n<p>We decided to update the <code class=\"language-text\">info</code> plugin so that both names are shown. The functions name in <code class=\"language-text\">serverless.yml</code> and the name of the deployed function on AWS.</p>\n<p>Here’s an example output how this looks like:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Service Information\nservice: service\nstage: dev\nregion: us-east-1\napi keys:\n  None\nendpoints:\n  GET - https://foo.execute-api.us-east-1.amazonaws.com/dev/goodbye\nfunctions:\n  hello: service-dev-hello\n  goodbye: service-dev-goodbye</code></pre></div>\n<h3>Enhancements &#x26; Bug Fixes</h3>\n<p>This release also fixes some other bugs and introduces some enhancements.</p>\n<blockquote>\n<p>Thanks for reporting bugs and opening issues!</p>\n</blockquote>\n<h3>Upcoming Breaking Changes</h3>\n<p>Here’s a list of all the breaking changes that will be introduced in Serverless v1.9.</p>\n<p><strong>Note:</strong> You’ll see the same list in the CLI if you run a Serverless command (as long as you haven’t disabled it).</p>\n<p>There are currently no breaking changes planned for v1.9</p>\n<p><em>You’ll always get the most recent list of breaking changes when you take a look at the <a href=\"https://github.com/serverless/serverless/milestones\">upcoming milestone</a> or in the Serverless CLI.</em></p>\n<h3>Contributors</h3>\n<p>This release contains lots of hard work from our awesome community and wouldn’t have been possible without passionate people contributing to Serverless.</p>\n<p>Here’s a list of all the contributors who’ve PR’d changes for this release:</p>\n<ul>\n<li>Andrey Tserkus</li>\n<li>Ben Berman</li>\n<li>Bruno Belotti</li>\n<li>Christoph Gysin</li>\n<li>Christopher Anderson</li>\n<li>Colby M. White</li>\n<li>Danny Cohn</li>\n<li>Gert Jansen van Rensburg</li>\n<li>John Gossman</li>\n<li>Jonathan Goldwasser</li>\n<li>Nick den Engelsman</li>\n</ul>\n<h3>Get Involved</h3>\n<p>Serverless has a really helpful, vibrant and awesome community. Do you want to help us develop the best Serverless tooling out there?</p>\n<p>Contributing isn’t just about code! Chime in on discussion, help with documentation updates or review PRs.</p>\n<p>Just filter by <a href=\"https://github.com/serverless/serverless/labels\">our labels</a> such as <a href=\"https://github.com/serverless/serverless/issues?q=is%3Aopen+is%3Aissue+label%3Astatus%2Feasy-pick\">easy-pick</a>, <a href=\"https://github.com/serverless/serverless/issues?q=is%3Aopen+is%3Aissue+label%3Astatus%2Fhelp-wanted\">help-wanted</a> or <a href=\"https://github.com/serverless/serverless/labels/stage%2Fneeds-feedback\">needs-feedback</a> to find areas where you can help us!</p>\n<h3>Using “Scope” to Contribute</h3>\n<p>We use our own Serverless Open Source tool called <a href=\"https://github.com/serverless/scope\">“Scope”</a> to manage the Frameworks development process:</p>\n<p><a href=\"https://serverless.com/framework/status/\">https://serverless.com/framework/status/</a></p>\n<p>Here you can see all the current discussions, to-be-reviewed PRs and recently closed issues and PRs.</p>\n<p>You can use this status board to see all the important things currently happening in the Framework development phase.</p>\n<h3>Next Steps</h3>\n<p>We’ve already started filling in the next <a href=\"https://github.com/serverless/serverless/milestones\">milestones</a>. Check out the <a href=\"https://github.com/serverless/serverless/milestone/24\">1.9 milestone</a> to see what we’ve planned for the next release.</p>\n<p>We hope that you like the new release! Let us know if you have any questions or feedback in <a href=\"http://forum.serverless.com/\">our Forum</a> or <a href=\"https://github.com/serverless/serverless/issues\">GitHub Issues</a>.</p>\n<p>The <a href=\"https://github.com/serverless/examples\">Serverless Examples Repository</a> is an excellent resource if you want to explore some real world examples and learn more about what Serverless architectures look like.</p>","frontmatter":{"title":"Azure Functions Support with Serverless v1.8","date":"February 28, 2017","description":"Azure functions provider plugin, inline policies, bug fixes and improvements in the Serverless Framework v1.8 release."}}},"pageContext":{"slug":"/posts/2017-02-28-serverless-v1.8.0/","previous":{"fields":{"slug":"/posts/2017-02-23-azure-functions-and-possibility/"},"frontmatter":{"title":"Azure Functions Support & Possibility"}},"next":{"fields":{"slug":"/posts/2017-02-28-tdd-serverless/"},"frontmatter":{"title":"Test-Driven Serverless Application Development"}}}}}