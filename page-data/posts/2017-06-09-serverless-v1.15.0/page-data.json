{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2017-06-09-serverless-v1.15.0/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"182d2336-ba07-5767-a4e9-cbbf26f8e402","excerpt":"Today we’re happy to announce the v1.15 release of the Serverless Framework! This release includes lots of new features, improvements and bugfixes. Let’s take a…","html":"<img align=\"right\" src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/framework-v115.png\" width=\"210px\">\n<p>Today we’re happy to announce the v1.15 release of the Serverless Framework!</p>\n<p>This release includes lots of new features, improvements and bugfixes. Let’s take a look at the full feature set v1.15 introduces.</p>\n<h2>Highlights of 1.15.0</h2>\n<p>You can find a complete list of all the updates in the <a href=\"https://github.com/serverless/serverless/blob/master/CHANGELOG.md\">changelog</a> or watch the video below. Kudos to <a href=\"https://twitter.com/ryanmurakami\">ryanmurakami</a> for recording the video!</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/o1-vyHJ9J8Y\" frameborder=\"0\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>\n<h3>CLI autocomplete</h3>\n<p>Ever found yourself looking through the <a href=\"https://serverless.com/framework/docs/\">docs</a> or the CLI help menu to figure our what the exact command usage you’re about to use looks like?</p>\n<p>Serverless v1.15 introduces autocompletion which will assist you while working with the CLI tool.</p>\n<p>Autocomplete is enabled automatically once you’ve updated to v1.15. You can make use of it by simply double tapping the Tabulator (tab) key while partially entering Serverless commands.</p>\n<p><code class=\"language-text\">serverless de&lt;tab&gt;</code> will expand to <code class=\"language-text\">serverless deploy</code>. All possible commands will be displayed if there is no exact match for the query you entered. This will also work for custom commands which are added via 3rd party Serverless plugins.</p>\n<p>Autocomplete is also supported for options. So <code class=\"language-text\">serverless deploy --st&lt;tab&gt;</code> will expand to <code class=\"language-text\">serverless deploy --stage</code>.</p>\n<p>This feature is another step towards are more user-friendly developer experience as it heavily decreases the cognitive load while working on your project.</p>\n<p>Are you curious what other DX improvements are currently in the pipeline? Take a look at our <a href=\"https://github.com/serverless/serverless/issues?utf8=%E2%9C%93&#x26;q=is%3Aissue%20is%3Aopen%20DX%3A%20\">DX issues</a> and give a thumbs-up for your favorite feature or open up a new issue if you can’t find what you’re looking for.</p>\n<h3>Cognito User Pool Trigger event</h3>\n<p>Serverless v1.15 adds support for the new <code class=\"language-text\">cognitoUserPool</code> event source which enables a way to react to Cognito User Pool triggers.</p>\n<p>Let’s take a look at an example where we configure our <code class=\"language-text\">greet</code> function to be called whenever the <code class=\"language-text\">PreSignUp</code> User Pool trigger is triggered:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>service\n\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token key atrule\">runtime</span><span class=\"token punctuation\">:</span> nodejs6.10\n\n<span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">greet</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.greet\n    <span class=\"token key atrule\">events</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cognitoUserPool</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">pool</span><span class=\"token punctuation\">:</span> MyUserPool\n          <span class=\"token key atrule\">trigger</span><span class=\"token punctuation\">:</span> PreSignUp</code></pre></div>\n<p>The <code class=\"language-text\">cognitoUserPool</code> event source has lots of other configuration parameters. You can read more about them in <a href=\"https://serverless.com/framework/docs/providers/aws/events/cognito-user-pool/\">our docs</a>.</p>\n<h3>KMS Key support</h3>\n<p>Support to define your own KMS keys for encryption was a highly requested feature from our community.</p>\n<p>The newly added <code class=\"language-text\">awsKmsKey</code> config parameter finally enables a way to specify your own custom KMS Key <code class=\"language-text\">arn</code> to e.g. encrypt your environment variables.</p>\n<p>This parameter can be specified on a per-function or service-wide level.</p>\n<p>Here’s a simple example of what this looks like:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>service\n  <span class=\"token key atrule\">awsKmsKeyArn</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>kms<span class=\"token punctuation\">:</span>us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1<span class=\"token punctuation\">:</span>XXXXX<span class=\"token punctuation\">:</span>key/service\n\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token key atrule\">runtime</span><span class=\"token punctuation\">:</span> nodejs6.10\n\n<span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">hello</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.hello\n    <span class=\"token key atrule\">awsKmsKeyArn</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>kms<span class=\"token punctuation\">:</span>us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1<span class=\"token punctuation\">:</span>XXXXX<span class=\"token punctuation\">:</span>key/function\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">KEY1</span><span class=\"token punctuation\">:</span> hello\n  <span class=\"token key atrule\">goodbye</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.goodbye\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">KEY2</span><span class=\"token punctuation\">:</span> goodbye</code></pre></div>\n<p>More information about this config can be found in <a href=\"https://serverless.com/framework/docs/providers/aws/guide/functions/#kms-keys\">KMS key docs</a>.</p>\n<h3>Validation of CloudFormation template</h3>\n<p>Serverless v1.15 ships with support to validate the CloudFormation template before kicking off the deployment phase.</p>\n<p>This feature could heavily improve the feedback loop because developers don’t have to wait for a failing deployment to see that their CloudFormation template might include some (trivial) errors such as cyclic dependencies.</p>\n<p>This feature is enabled by default and is especially helpful when you <code class=\"language-text\">serverless deploy</code> your own deployment packages which might be generated or modified by another plugin / tool.</p>\n<h3><code class=\"language-text\">serverless.json</code> support</h3>\n<p>Usually you write your services definition in a <code class=\"language-text\">serverless.yml</code> or <code class=\"language-text\">serverless.yaml</code> file.</p>\n<p>v1.15 finally adds support for <code class=\"language-text\">serverless.json</code>. This way you can write your service specification in plain JSON:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>service\n\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token key atrule\">runtime</span><span class=\"token punctuation\">:</span> nodejs6.10\n\n<span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">hello</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.hello</code></pre></div>\n<p>is the same as:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"service\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my-service\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"provider\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aws\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"runtime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nodejs6.10\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"functions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"hello\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"handler\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"handler.hello\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Note:</strong> You can only have one <code class=\"language-text\">serverless.*</code> file in your services directory. Serverless will try to load the YAML service definition first.</p>\n<h3><code class=\"language-text\">--aws-profile</code> option support</h3>\n<p>AWS profile support was one of the features which shipped with Serverless from the very beginning. However up until now it was not convenient to switch / use other profiles for deployment since you had to pre-define them in your <code class=\"language-text\">serverless.yml</code> file or use other workarounds to switch between them.</p>\n<p>With v1.15 you’re able to specify the profile which should be used for the operation you want to perform via the <code class=\"language-text\">--aws-profile</code> CLI option.</p>\n<p>A deployment with the help of the <code class=\"language-text\">qa</code> profile would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless deploy --aws-profile qa</code></pre></div>\n<p><strong>Note:</strong> <code class=\"language-text\">--aws-profile</code> support is not limited to the <code class=\"language-text\">deploy</code> command but can be used with every other command as well.</p>\n<h3>Enhancements &#x26; Bug Fixes</h3>\n<p>This release also includes a bunch of bug fixes and several enhancements.</p>\n<blockquote>\n<p>Thanks for reporting bugs and opening issues!</p>\n</blockquote>\n<h3>Contributors</h3>\n<p>This release contains lots of hard work from our awesome community, and wouldn’t have been possible without passionate people who decided to spend their time contributing to make Serverless better.</p>\n<p>Thank You to all of the contributors who submitted changes for this release:</p>\n<ul>\n<li>Dan Root</li>\n<li>David Humphrey</li>\n<li>Frank Schmid</li>\n<li>Hassan Khan</li>\n<li>James Thomas</li>\n<li>RichardSlater</li>\n<li>Ryan Lewis</li>\n<li>Sam Marks</li>\n<li>Taylor Hurt</li>\n<li>Tom Saleeba</li>\n<li>Xancar</li>\n<li>depotjoe</li>\n</ul>\n<h3>Get Involved</h3>\n<p>Serverless has a really helpful, vibrant and awesome community. Want to help us build the best Serverless tooling out there?</p>\n<p>Contributing isn’t just about code! Chime in on <a href=\"https://github.com/serverless/serverless/labels/stage%2Fneeds-feedback\">discussions</a>, help with <a href=\"https://github.com/serverless/serverless/labels/kind%2Fdocs\">documentation updates</a> or <a href=\"https://github.com/serverless/serverless/pulls\">review Pull Requests</a>.</p>\n<p>Just filter by <a href=\"https://github.com/serverless/serverless/labels\">our labels</a> such as <a href=\"https://github.com/serverless/serverless/issues?q=is%3Aopen+is%3Aissue+label%3Astatus%2Feasy-pick\">easy-pick</a>, <a href=\"https://github.com/serverless/serverless/issues?q=is%3Aopen+is%3Aissue+label%3Astatus%2Fhelp-wanted\">help-wanted</a> or <a href=\"https://github.com/serverless/serverless/labels/stage%2Fneeds-feedback\">needs-feedback</a> to find areas where you can help us!</p>\n<p>Furthermore, we’re always seeking feedback from our community to build the features in the best way possible. <a href=\"https://github.com/serverless/serverless/labels/stage%2Fneeds-feedback\">Here’s a list</a> with issues where we need your feedback and insights in your real world usage of Serverless.</p>\n<h3>Next Steps</h3>\n<p>We’ve already started filling in the next <a href=\"https://github.com/serverless/serverless/milestones\">milestones</a>. Check out the <a href=\"https://github.com/serverless/serverless/milestone/31\">1.16 milestone</a> to see what we have planned for the next release.</p>\n<p>We hope that you like the new release! Let us know if you have any questions or feedback in <a href=\"http://forum.serverless.com/\">our Forum</a> or <a href=\"https://github.com/serverless/serverless/issues\">GitHub Issues</a>.</p>\n<h2>Serverless Examples</h2>\n<p>The <a href=\"https://github.com/serverless/examples\">Serverless Examples Repository</a> is an excellent resource if you want to explore some real world examples and learn more about what Serverless architectures look like.</p>\n<h2>Serverless Plugins</h2>\n<p>Serverless provides a completely customizable and pluggable codebase. Our community has written a vast amount of awesome plugins you can install and therefore enhance the capabilities of the Framework.</p>\n<p>A list with all the different plugins can be found at our <a href=\"https://github.com/serverless/plugins\">Serverless Plugins Repository</a>.</p>\n<p>Don’t hestitate to open up a PR over there if you’ve authored or found a new Serverless plugin!</p>","frontmatter":{"title":"Serverless v1.15 - CLI autocomplete & Cognito User Pool trigger events added","date":"June 09, 2017","description":"CLI autocomplete, Cognito User Pool Trigger event source, KMS Key support and more in the Serverless Framework v1.15 release."}}},"pageContext":{"slug":"/posts/2017-06-09-serverless-v1.15.0/","previous":{"fields":{"slug":"/posts/2017-06-05-devops-serverless-variables/"},"frontmatter":{"title":"DevOps Use Cases With Serverless Variables"}},"next":{"fields":{"slug":"/posts/2017-06-12-4-tools-for-building-production-serverless-architectures/"},"frontmatter":{"title":"4 Tools For Building Production Serverless Architectures with Lambda"}}}}}