{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2019-08-07-serverless-for-startups/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"dfdfd989-d188-54df-87eb-055f77a0115b","excerpt":"When we decided to launch and bootstrap CloudForecast in 2018, we faced questions that every startup face including “What’s the right way to build this product…","html":"<p>When we decided to launch and bootstrap <a href=\"https://www.cloudforecast.io/?utm_source=serverless.com&#x26;utm_medium=blog&#x26;utm_campaign=serverless\">CloudForecast</a> in 2018, we faced questions that every startup face including “What’s the right way to build this product with our resources without creating technical debts for the future?”</p>\n<h4>The “$100 Startup” concept</h4>\n<p>Around the time we started <a href=\"https://www.cloudforecast.io/?utm_source=serverless.com&#x26;utm_medium=blog&#x26;utm_campaign=serverless\">CloudForecast</a>, I was reading “$100 Startup” by Chris Guillebeau. In his book, Chris advises his readers to get their product out fast while being cost-effective to limit the damage if your idea fails (definitely possible, unfortunately!). We try to apply this advice on every side of our business including our technical decisions.</p>\n<h4>Our goals/requirements</h4>\n<p>With the “$100 Startup” concept in mind, we started by listing the requirements that were important to us while building CloudForecast:</p>\n<ul>\n<li>Ship it out fast: We were excited to build CloudForecast to help companies save $$$ on AWS. We wanted to put it in front of our clients ASAP to keep our excitement going. Spending time debugging config, deploy process, etc. will not make the end product better. We were looking for an out of the box solution that we can grow with and allowed us to focus on our MVP the right away</li>\n<li>Cost-effective: As an early startup, we wanted to avoid fixed costs by building a system that will scale seamlessly based on our client base.</li>\n</ul>\n<p><strong>AWS Lambda + Serverless = Easy + Focus + Cost-Effective</strong></p>\n<p>We brainstormed on how we could achieve our goals and requirements. We discussed managing our own instances, using containers and half a dozen other ideas but we wanted something simple so we decided to use a Serverless solution (or FaaS). While there are a few downsides (e.g cold starts, …), we believed going serverless better suited our use case (nearly zero administration, pay-per-execution with no idle cost and auto-scaling). Cold starts is a known downside for Lambda but as we are mostly transforming and loading data from S3 in an offline fashion we decided that cold starts weren’t a major concern for us. </p>\n<p>For the dev setup and deploy process, we decided to use Serverless Framework with AWS Lambdas for the following reasons:</p>\n<ul>\n<li>We can focus on writing our product and let Serverless manage the rest (permission, event management)</li>\n<li>Easy to configure and easy to deploy</li>\n<li>Serverless supports multiple platforms (GCP, AWS, … ) which could prevent headaches in the future. We picked AWS Lambdas to start with since our clients’ data will be stored in S3. It was a logical decision in order to reduce the network cost</li>\n<li>The Serverless framework offers a long list of plugins (see <a href=\"https://serverless.com/plugins/\">https://serverless.com/plugins/</a>)</li>\n<li>Last but not least: Great documentation and community (<a href=\"https://github.com/serverless/serverless\">Github</a>, <a href=\"https://gitter.im/serverless/serverless\">Gitter</a>, <a href=\"https://serverless.com/slack\">Slack</a> and <a href=\"https://forum.serverless.com\">Forums</a>)</li>\n</ul>\n<p>Our original requirements were fairly simple: We needed 4 AWS lambda functions each on their own cron job, and each lambda would need to talk to various AWS products (RDS, DynamoDb, SQS et al.). All that with an easy way to manage multiple environments (dev vs prod)  and an easy/effective way to manage resource permissions.</p>\n<p>Here is how we do it:</p>\n<ul>\n<li>We used 4 functions:</li>\n</ul>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cloudforecast/CloudForecastFunctions.png\" alt=\"Functions\"></p>\n<ul>\n<li>Used the iamRoleStatements to configure all the permissions:</li>\n</ul>\n<p><img src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cloudforecast/CloudforecastIam.png\" alt=\"IAM\"></p>\n<p>With these two code snippets, we were able to set up most of our architecture. 4 functions that will interact with each other through SNS. Two functions will run check on a cron schedule (via the ‘schedule.rate’ params) to check a file need to be reprocessed and trigger another function via an SNS. This configuration will be able to scale effortlessly while keeping our costs under control. We are able to fully silo our environments using iamRoleStatements to configure the permissions.</p>\n<p>We originally used a simple YAML file to control our environment variables but we quickly switched to a <code class=\"language-text\">DotEnv</code> file using the <a href=\"https://serverless.com/plugins/serverless-dotenv-plugin/\">DotEnv</a> plugin.</p>\n<p>We considered running a couple of small instances to do the job which would cost us at least $1k for the year. However, the AWS Lambda cost is effectively $0  since we are only running a couple of functions a day which could easily be covered by the AWS free tiers.</p>\n<h4>Looking back!</h4>\n<p>Like every new startup, we made (and are probably still making) some mistakes along the way but picking AWS Lambda and the serverless framework wasn’t one of them. Here are a few reasons why it was the right choice for us: </p>\n<ul>\n<li><strong>CloudForecast was able to grow effortlessly with AWS Lambda:</strong> As we onboard clients, we will automatically run more functions and the cost will grow linearly with revenue.</li>\n<li><strong>The Serverless framework is always improving and it’s keeping up with AWS Lambda.</strong> The recent <a href=\"https://serverless.com/blog/serverless-now-full-lifecycle/\">Full Lifecycle</a> feature announcement is a perfect example of how the Serverless framework is always evolving.</li>\n</ul>\n<p>Over time, our product evolved and so did our functions but Serverless and Lambda were always able to deliver.</p>\n<p>If you have any questions related to this post or what we do at <a href=\"https://www.cloudforecast.io/?utm_source=serverless.com&#x26;utm_medium=blog&#x26;utm_campaign=serverless\">CloudForecast.io</a>, feel free to reach out to me at francois@cloudforecast.io. We would love to hear from you!</p>","frontmatter":{"title":"Serverless: The Ideal Choice For Startups? (CloudForecast Case Study)","date":"August 07, 2019","description":"CloudForecast is a bootstrapped startup that launched in 2018. This is their story of why they decided to go serverless."}}},"pageContext":{"slug":"/posts/2019-08-07-serverless-for-startups/","previous":{"fields":{"slug":"/posts/2019-08-08-react-apps-with-serverless-components/"},"frontmatter":{"title":"Fast, Cheap & Global React Apps via Serverless Framework Components (Video)"}},"next":{"fields":{"slug":"/posts/2019-08-15-monitoring-api-gateway-metrics/"},"frontmatter":{"title":"Tracking API Gateway metrics in Serverless applications"}}}}}