{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2017-01-05-serverless-v1.5.0/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"b288df91-e85f-54b8-87d1-7e2e316a3a70","excerpt":"Today we’re happy to announce the release of the Serverless Framework v1.5.0. Here are some of the release highlights! Highlights of 1.5.0 Note: You can find a…","html":"<p>Today we’re happy to announce the release of the Serverless Framework v1.5.0.</p>\n<p>Here are some of the release highlights!</p>\n<h2>Highlights of 1.5.0</h2>\n<p><strong>Note:</strong> You can find a complete list of all the updates in the <a href=\"https://github.com/serverless/serverless/blob/master/CHANGELOG.md\">changelog</a>.</p>\n<h3>IoT event support</h3>\n<p>v1.5 introduces the new <code class=\"language-text\">iot</code> event source.</p>\n<p>Lambda functions can now be triggered by AWS IoT events. Here’s a simple code snippet that demonstrates how this looks:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">weatherReporter</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.handler\n    <span class=\"token key atrule\">events</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">iot</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">sql</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"SELECT * FROM 'weather_data'\"</span></code></pre></div>\n<p>In this example the <code class=\"language-text\">weatherReporter</code> function will be called every time an IoT event is sent to the <code class=\"language-text\">weather_data</code> topic.</p>\n<p>As usual you can learn more about this new event source in <a href=\"https://serverless.com/framework/docs/providers/aws/events/iot\">the docs</a>. You should also check out the IoT example in our <a href=\"https://github.com/serverless/examples/tree/master/aws-node-iot-event\">Serverless Examples repository</a> to see the code for a fully functional Serverless service using the <code class=\"language-text\">iot</code> event.</p>\n<p>IoT devices and <code class=\"language-text\">iot</code> event support are a hot topic as it makes it possible to connect and interact with other hardware devices through Lambda functions. It’s a great use case for a serverless architecture.</p>\n<p>In fact, we have an upcoming guest blog post that will show you how an IoT device made it possible to see (from home) if the weather at the lake is nice enough to go hang out there. Stay tuned!</p>\n<h3>Cognito user pool authorizer</h3>\n<p>Serverless supports the use of custom authorizers for your API Gateway endpoints (see <a href=\"https://serverless.com/framework/docs/providers/aws/events/apigateway/#http-endpoints-with-custom-authorizers\">the docs</a> for more information about it).</p>\n<p>However up until now only custom authorizers were supported. What if you have a Cognito user pool you want to use to authorize your users?</p>\n<p>Serverless has you covered! You can now specify the <code class=\"language-text\">arn</code> to your user pool so that it’ll be used by the authorizer function to authorize incoming requests.</p>\n<p>Here’s a code snippet that shows what the setup looks like:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">hello</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.hello\n    <span class=\"token key atrule\">events</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">http</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> hello\n          <span class=\"token key atrule\">method</span><span class=\"token punctuation\">:</span> get\n          <span class=\"token key atrule\">integration</span><span class=\"token punctuation\">:</span> lambda\n          <span class=\"token key atrule\">authorizer</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> authorizer\n            <span class=\"token key atrule\">arn</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>cognito<span class=\"token punctuation\">-</span>idp<span class=\"token punctuation\">:</span>us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1<span class=\"token punctuation\">:</span>123456789<span class=\"token punctuation\">:</span>userpool/us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1_XXXXXX\n            <span class=\"token key atrule\">claims</span><span class=\"token punctuation\">:</span>\n              <span class=\"token punctuation\">-</span> email</code></pre></div>\n<p>Want to see a more in-depth example? The following Serverless example service shows everything in detail:</p>\n<p><a href=\"https://github.com/johnf/serverless-cognito-demo\">https://github.com/johnf/serverless-cognito-demo</a></p>\n<h3>Install service with a name</h3>\n<p><code class=\"language-text\">serverless install</code> is a widely used command to download existing Serverless services from GitHub.</p>\n<p>Often times you want to use and deploy the service you download under a different name. Serverless v1.5.0 makes it possible to rename services directly after they’ve been downloaded.</p>\n<p>Just provide the <code class=\"language-text\">--name</code> flag and the service will be renamed after it was downloaded:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless <span class=\"token function\">install</span> --url https://github.com/serverless/examples/tree/master/aws-node-iot-event --name iot</code></pre></div>\n<h3>Enhancement and bug fixes</h3>\n<p>With every release we also implement a bunch of enhancements and bug fixes (thanks for reporting!).</p>\n<h3>Next Steps</h3>\n<p>We’ve already started filling in the next <a href=\"https://github.com/serverless/serverless/milestones\">milestones</a>. Check out the <a href=\"https://github.com/serverless/serverless/milestone/21\">1.6 milestone</a> to see what we’re working on for the next release.</p>\n<p>We hope that you like the new release! Let us know if you have any questions or feedback in <a href=\"http://forum.serverless.com/\">our Forum</a> or <a href=\"https://github.com/serverless/serverless/issues\">GitHub Issues</a>.</p>\n<p>The <a href=\"https://github.com/serverless/examples\">Serverless Examples Repository</a> is an excellent resource if you want to explore some real world examples and learn more about what Serverless architectures look like.</p>\n<h3>Using Semver</h3>\n<p>Note that we’re using <a href=\"http://semver.org/\">strict Semver</a> for our Serverless Framework versioning. This way you’ll know when we introduce major features or breaking changes.</p>","frontmatter":{"title":"IoT event support, Cognito user pool authorizer & install service with a name in Serverless Framework v1.5","date":"January 05, 2017","description":"IoT event support, Cognito user pool authorizer and the ability to install your service with a name in the Serverless Framework v1.5 release."}}},"pageContext":{"slug":"/posts/2017-01-05-serverless-v1.5.0/","previous":{"fields":{"slug":"/posts/2017-01-04-writing-serverless-plugins/"},"frontmatter":{"title":"How To Write Your First Plugin For The Serverless Framework - Part 1"}},"next":{"fields":{"slug":"/posts/2017-01-05-moonmail-serverless-framework-powered-architecture/"},"frontmatter":{"title":"Scaling Email Marketing to Infinity & Beyond by Going Serverless"}}}}}