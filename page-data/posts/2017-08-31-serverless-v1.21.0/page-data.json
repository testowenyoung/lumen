{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/2017-08-31-serverless-v1.21.0/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"d0a7b486-9847-5770-b0fb-ce766ecbbb51","excerpt":"It’s been a wild two weeks, everyone. We not only held Emit, but showed up with a whole new look and logo, too. If you weren’t there, rest easy. Videos of Emit…","html":"<img align=\"right\" src=\"https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/serverless-framework-v1.21.png\" width=\"210px\">\n<p>It’s been a wild two weeks, everyone.</p>\n<p>We not only held <a href=\"http://www.emitconference.com/\">Emit</a>, but showed up with a <a href=\"https://serverless.com\">whole new look and logo</a>, too. If you weren’t there, rest easy. Videos of Emit talks are on their way, and the <a href=\"https://serverless.com/blog/key-takeaways-for-the-future-of-serverless-emit-2017/\">speaker slides are already up</a>.</p>\n<p>We also announced our new open-source project, <a href=\"https://serverless.com/event-gateway/\">Event Gateway</a> and the <a href=\"https://serverless.com/framework/docs/platform/commands/run/\"><code class=\"language-text\">serverless run</code></a> integration.</p>\n<p>What we’re trying to say is: sorry for the temporary lull in new action-packed features for the past couple of releases. But this week, we’re back! Please enjoy a really nice feature-set for the Serverless Framework v1.21 release.</p>\n<h2>Noteable changes v1.21 introduces</h2>\n<p>You can find a complete list of all the updates in the <a href=\"https://github.com/serverless/serverless/blob/master/CHANGELOG.md\">CHANGELOG.md</a> file.</p>\n<h3>Kubeless provider support</h3>\n<p>We’re thrilled to announce that <a href=\"http://kubeless.io/\">Kubeless</a> provider support has just landed in the Serverless Framework!</p>\n<p>Kubeless is a Kubernetes-Native framework developed by <a href=\"https://bitnami.com/\">Bitnami</a> which makes it possible to provision and run serverless functions atop <a href=\"https://kubernetes.io/\">Kubernetes</a>.</p>\n<p>You can create a new <code class=\"language-text\">kubeless</code> service with the help of the <code class=\"language-text\">kubeless-nodejs</code> or <code class=\"language-text\">kubeless-python</code> service templates:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless create --template kubeless-nodejs --path my-kubeless-service</code></pre></div>\n<p>Make sure to read the <a href=\"https://serverless.com/blog/serverless-and-kubernetes-via-kubeless/\">announcement blog post</a> (which includes a nice showcase video) and check out their <a href=\"https://github.com/serverless/serverless-kubeless\">plugin repository</a>.</p>\n<h3>Raw data passing for <code class=\"language-text\">invoke</code> and <code class=\"language-text\">invoke local</code></h3>\n<p>The <code class=\"language-text\">invoke</code> and <code class=\"language-text\">invoke local</code> commands make it easy to invoke and test-drive remote or local functions with custom input.</p>\n<p>All the input data is automatically parsed as JSON and handed over to the function as it corresponding input data.</p>\n<p>Sometimes you want to have more control over the way the input data reaches your functions. This is why a <code class=\"language-text\">--raw</code> flag was added to <code class=\"language-text\">invoke</code> and <code class=\"language-text\">invoke local</code>.</p>\n<p>Using this flag makes it possible to pass in the invocation data as is without any automatic transformations.</p>\n<p>Here’s an example how this <code class=\"language-text\">--raw</code> option can be used in practice:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless invoke --function my_function --data <span class=\"token string\">'{\"foo\":\"bar\"}'</span> --raw</code></pre></div>\n<h3>Support for custom <code class=\"language-text\">context</code> in <code class=\"language-text\">invoke local</code></h3>\n<p>One function parameter which is automatically passed into your Lambda functions is the <code class=\"language-text\">context</code> parameter which encapsulates all the information about the current context of the functions invocation.</p>\n<p>It includes information such as e.g. the <code class=\"language-text\">logGroupName</code> or <code class=\"language-text\">functionVersion</code>.</p>\n<p>With <code class=\"language-text\">invoke local</code> we’ve implemented a fixed mock object which contains all the information AWS also passes in your Lambda function when it’s invoked on their end. This makes the experience comparable to AWS even if the function is just invoked locally.</p>\n<p>While this <code class=\"language-text\">context</code> object is always passed in as the default it’s now possible to specify an own <code class=\"language-text\">context</code> object with the help of the <code class=\"language-text\">--context</code> and <code class=\"language-text\">--contextPath</code> options.</p>\n<p>Let’s take a look how this <code class=\"language-text\">context</code> object works in practice:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless invoke <span class=\"token builtin class-name\">local</span> --function my_function --context <span class=\"token string\">'{ \"data\": 1 }'</span></code></pre></div>\n<p>You could also use a path to a file which describes your <code class=\"language-text\">context</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless invoke <span class=\"token builtin class-name\">local</span> --function my_function --contextPath ./custom-context.json</code></pre></div>\n<h3>Update AWS profiles through Serverless CLI</h3>\n<p>Back in an earlier version of Serverless, we added support to set up provider credentials with the help of the Serverless CLI.</p>\n<p>This streamlines the onboarding experience and lets you do the account configuration with Serverless rather than having to install and use the providers CLI tool.</p>\n<p>For example setting up AWS credentials is as easy as:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless config credentials --provider aws --key AKIAIOSFODNN7EXAMPLE --secret wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></pre></div>\n<p>Serverless v1.21 introduces an enhancement for this <code class=\"language-text\">config credentials</code> command. You are now able to update existing profiles through the Serverless CLI.</p>\n<p>The <code class=\"language-text\">--overwrite</code> flag is necessary if you want to update an existing profile. It signals that this is a “dangerous” operation and helps preventing unintended changes:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless config credentials --provider aws --key <span class=\"token number\">1234</span> --secret <span class=\"token number\">5678</span> --profile custom-profile --overwrite</code></pre></div>\n<h3>Display stack name in <code class=\"language-text\">info</code></h3>\n<p>Large serverless applications are usually compositions of individual serverless services. That’s where the <code class=\"language-text\">info</code> plugin comes in handy as it shows important information about the service the user is currently working on.</p>\n<p>Serverless v1.21 has a slight improvement for the <code class=\"language-text\">info</code> plugin so that the stack name is now displayed as well.</p>\n<p>This makes it easier to see and understand which stack information is currently displayed on your terminal.</p>\n<h3>TypeScript and ECMAScript AWS service templates</h3>\n<p>Serverless v1.21 ships with two new service templates for AWS:</p>\n<ul>\n<li><code class=\"language-text\">aws-nodejs-ecma-script</code></li>\n<li><code class=\"language-text\">aws-nodejs-typescript</code></li>\n</ul>\n<p>Creating new services with the templates is as easy as:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless create --template aws-nodejs-ecma-script</code></pre></div>\n<p>or:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">serverless create --template aws-nodejs-typescript</code></pre></div>\n<h3>Other enhancements &#x26; bug fixes</h3>\n<p>This release also includes tons of other improvements and bug fixes.</p>\n<blockquote>\n<p>Thank you very much for reporting bugs, opening issues and joining the discussions!</p>\n</blockquote>\n<p>We hope that you enjoy this release! Feel free to provide some feedback in our <a href=\"https://forum.serverless.com\">Forum</a>, via <a href=\"https://twitter.com/goserverless\">Twitter</a> or on <a href=\"https://github.com/serverless/serverless\">GitHub</a>.</p>\n<h3>Contributors</h3>\n<p>This release contains lots of hard work from our beloved community, and wouldn’t have been possible without passionate people who decided to spend their time contributing back to make the Serverless Framework better.</p>\n<p>Huge round of applause to all of the contributors who submitted changes for this release:</p>\n<ul>\n<li>Ara Pulido</li>\n<li>Daniel Schep</li>\n<li>Dmitri Zimine</li>\n<li>Eoin Shanaghy</li>\n<li>Francisco Guimarães</li>\n<li>Gharsallah Mohamed</li>\n<li>Jacob Massey</li>\n<li>James Thomas</li>\n<li>Loren Gordon</li>\n<li>Mariusz Nowak</li>\n<li>Rafal Wilinski</li>\n<li>Sebastien Goasguen</li>\n<li>Seth</li>\n<li>Toby Hede</li>\n<li>Tommy Brunn</li>\n<li>Vlad Holubiev</li>\n<li>alokmandloi</li>\n<li>guyklainer</li>\n<li>mpuittinen</li>\n<li>patrickheeney</li>\n</ul>\n<h2>Upcoming releases / contributions</h2>\n<p>In addition to the <a href=\"https://github.com/serverless/serverless/milestone/37\">1.22 milestone</a> and its Issues and PRs, we still have lots and lots of other <a href=\"https://github.com/serverless/serverless/issues\">Issues</a> and <a href=\"https://github.com/serverless/serverless/pulls\">PRs</a>. We’d love to implement and introduce these in some of the upcoming releases.</p>\n<blockquote>\n<p>Do you want to help out and improve the Serverless Framework?</p>\n</blockquote>\n<p>Great! We’ve compiled a list with some of the most wished features to make it easier for you to find areas where we could most use a hand.</p>\n<h3>Deploy many micro/nano services to one API Gateway</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/3078\">Issue #3078</a></p>\n<p>We already started a WIP implementation with the following <a href=\"https://github.com/serverless/serverless/pull/3934\">PR</a>, but for now it only provides a partial solution. Do you have any ideas how we can improve the support for this feature?</p>\n<h3>Unable to create services with a high resource count</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/2387\">Issue #2387</a></p>\n<p>Services can grow significantly in size. We’ve worked on different solutions for this problem (see <a href=\"https://github.com/serverless/serverless/pull/3504\">this PR</a>) but we’re still not 100% there yet.</p>\n<h3>Support for AWS API Gateway Basic Request Validation</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/3464\">Issue #3464</a></p>\n<p>We’re currently looking for a way to implement basic request validation via raw CloudFormation.</p>\n<h3>Let resources depend on the ApiGateway::Deployment</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/2233\">Issue #2233</a></p>\n<p>The <code class=\"language-text\">ApiGateway::Deployment</code> resource has a random string in its name so that deployments are re-triggered on AWS end.</p>\n<p>This makes it hard to create other CloudFormation resources which dependend on it.</p>\n<h3>Skip resource if already exists</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/3183\">Issue #3183</a></p>\n<p>It would be nice to skip resource delpoyments if the corresponding resource already exists (e.g. when using DynamoDB tables). Could you think of a reliable, production ready way that will detect which resources deployments could be skipped?</p>\n<h3>Global arn parser with intrinsic functions (Ref, Fn::GetAtt, Fn::ImportValue, …) support</h3>\n<p><a href=\"https://github.com/serverless/serverless/issues/3212\">Issue #3212</a></p>\n<p><code class=\"language-text\">arns</code> are used everywhere in CloudFormation. However some of our event sources don’t support all the different types of intrinsic functions which can be used to reference <code class=\"language-text\">arns</code>.</p>\n<p>It would be great to have a global <code class=\"language-text\">arn</code> parser which can be re-used throughout the whole codebase. This parser could also be exposed to the framework user e.g. via <code class=\"language-text\">this.provider.findAllCfReferences()</code>, so that plugin authors can benefit from this functionality as well.</p>\n<h3>Other issues and PRs</h3>\n<p>This list is just a gist with some of the most wished features from our community.</p>\n<p>We have lots of other <a href=\"https://github.com/serverless/serverless/issues\">issues</a> where you could leave some feedback or jump directly into the implementation.</p>\n<p>Additionally <a href=\"https://github.com/serverless/serverless/pulls\">PR reviews</a> are also highly welcomed as they greatly speed up the time-to-merge.</p>\n<h2>Serverless Examples</h2>\n<p>The <a href=\"https://github.com/serverless/examples\">Serverless Examples Repository</a> is an excellent resource if you want to explore some real world examples, or learn more about the Serverless Framework and serverless architectures in general.</p>\n<h2>Serverless Plugins</h2>\n<p>Serverless provides a completely customizable and pluggable codebase. Our community has written a vast amount of awesome plugins you can use to further enhance the capabilities of the Framework. You can find the full list at our <a href=\"https://github.com/serverless/plugins\">Serverless Plugins Repository</a>.</p>\n<p>Don’t hestitate to open up a PR over there if you’ve authored or found a new Serverless plugin!</p>","frontmatter":{"title":"Serverless v1.21 - Kubeless provider support, AWS credentials management and invoke improvements added","date":"August 31, 2017","description":"Kubeless support, AWS credentials management, new AWS service templates, invoke improvements, enhancements, bug fixes and more added in the Serverless Framework v1.21 release."}}},"pageContext":{"slug":"/posts/2017-08-31-serverless-v1.21.0/","previous":{"fields":{"slug":"/posts/2017-08-30-serverless-and-kubernetes-via-kubeless/"},"frontmatter":{"title":"Kubeless brings functions as a service to Kubernetes & on-prem"}},"next":{"fields":{"slug":"/posts/2017-09-06-running-multi-cloud-functions-at-spot-instance-prices/"},"frontmatter":{"title":"Run Serverless Functions at half the cost with Spotinst & Serverless Framework"}}}}}