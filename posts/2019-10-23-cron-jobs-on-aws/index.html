<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><style data-href="/lumen/styles.1d0daeadf0762b76da98.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/lumen/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/lumen/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/lumen/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/lumen/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/lumen/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/lumen/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/lumen/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/lumen/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/lumen/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/lumen/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/lumen/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/lumen/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/lumen/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/lumen/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/lumen/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/lumen/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/lumen/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/lumen/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/lumen/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/lumen/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/lumen/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/lumen/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/lumen/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/lumen/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/lumen/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/lumen/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/lumen/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/lumen/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/lumen/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/lumen/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/lumen/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/lumen/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/lumen/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/lumen/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/lumen/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/lumen/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/lumen/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/lumen/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/lumen/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/lumen/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/lumen/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/lumen/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/lumen/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/lumen/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/lumen/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/lumen/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/lumen/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/lumen/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/lumen/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/lumen/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/lumen/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/lumen/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.23.12"/><link rel="alternate" type="application/rss+xml" href="/lumen/rss.xml"/><link rel="icon" href="/lumen/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="manifest" href="/lumen/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/lumen/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/lumen/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/lumen/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/lumen/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/lumen/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/lumen/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/lumen/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/lumen/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">Creating, monitoring, and testing cron jobs on AWS | Gatsby Starter Blog</title><meta data-react-helmet="true" name="description" content="In this article we walk you through how to create a cron job on AWS using AWS Lambda and Serverless Framework and how to get the right alerts and security measures in place."/><meta data-react-helmet="true" property="og:title" content="Creating, monitoring, and testing cron jobs on AWS"/><meta data-react-helmet="true" property="og:description" content="In this article we walk you through how to create a cron job on AWS using AWS Lambda and Serverless Framework and how to get the right alerts and security measures in place."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="kylemathews"/><meta data-react-helmet="true" name="twitter:title" content="Creating, monitoring, and testing cron jobs on AWS"/><meta data-react-helmet="true" name="twitter:description" content="In this article we walk you through how to create a cron job on AWS using AWS Lambda and Serverless Framework and how to get the right alerts and security measures in place."/><link as="script" rel="preload" href="/lumen/webpack-runtime-c76c0c9d42bc9bf56761.js"/><link as="script" rel="preload" href="/lumen/framework-5fc6169171e885c3b522.js"/><link as="script" rel="preload" href="/lumen/styles-cd63080e784be7b7e7cf.js"/><link as="script" rel="preload" href="/lumen/app-36e457a5393b79b99515.js"/><link as="script" rel="preload" href="/lumen/commons-4c36ffabef1434ec1126.js"/><link as="script" rel="preload" href="/lumen/cd7d5f864fc9e15ed8adef086269b0aeff617554-c8f68cb3ade1320f5257.js"/><link as="script" rel="preload" href="/lumen/component---src-templates-blog-post-js-e4c781a4720974cc2679.js"/><link as="fetch" rel="preload" href="/lumen/page-data/posts/2019-10-23-cron-jobs-on-aws/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/lumen/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;color:inherit" href="/lumen/">Gatsby Starter Blog</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Creating, monitoring, and testing cron jobs on AWS</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">October 23, 2019</p></header><section><p>Cron jobs are everywhere—from scripts that run your data pipelines to automated cleanup of your development machine, from cleaning up unused resources in the cloud to sending email notifications. These tasks tend to happen unnoticed in the background. And in any business, there are bound to be many tasks that <em>could</em> be cron jobs but are instead processes run manually or as part of an unrelated application.</p>
<p>Many companies want to take control of their cron jobs: to manage costs, to make sure the jobs are maintainable and the infrastructure running them is up to date, and to share the knowledge about how the jobs run. For those already bringing the rest of their infrastructure to Amazon’s public cloud, running cron jobs in AWS is an obvious choice. </p>
<p>If you are a developer using AWS, and you’d like to bring your cron jobs over to AWS, there are two main options: use an EC2 machine—spin up a VM and configure cron jobs to run on it; or use AWS Lambda—a serverless computing service that abstracts away machine management and provides a simple interface for task automation.</p>
<p>On the face of it, EC2 might seem like the right choice to run cron jobs, but over time you’ll find yourself starting to run into the following issues:</p>
<ol>
<li>Most cron jobs don’t need to be run every second, nor even every hour. This means that the EC2 machine reserved for the cron jobs is idle at least 90% of the time, not to mention that its resources aren’t being used efficiently.</li>
<li>The machine running the cron jobs will of course require regular updates, and there must be a mechanism in place to handle that, whether it’s a Terraform description of the instance or a Chef cookbook.</li>
<li>Did the cron job run last night? Did the average run time change in the last few weeks? Answering these and other questions will require adding more code to your cron job, which can be hard to do if your cron job is a simple Bash script.</li>
</ol>
<p>AWS Lambda addresses all of these issues. With its pay-per-use model, you only pay for the compute time used by your Lambda applications. For short-lived tasks, this can generate significant savings. When deploying Lambda with Serverless Framework, the description of all the infrastructure to which the function connects resides in the same repository as the application code. In addition, you get metrics, anomaly detection, and easy-to-use secrets management right out of the box.</p>
<p>In this article we’ll walk you through how to create a cron job on AWS using AWS Lambda and Serverless Framework, how to get the right alerts and security measures in place, and how to scale your cron jobs as needed. Take a look at <a href="https://github.com/chief-wizard/serverless-cron-job-example">our example repo for this article on GitHub</a> if you’d like to follow along. Let’s dive in!</p>
<h3>Creating a cron job with AWS Lambda</h3>
<p>In this example we’ll walk through a cron job that performs database rollovers. Our use case: we want to archive the past week’s data from a production database in order to keep the database small while still keeping its data accessible. We start by defining all the details of our cron job application in the <code class="language-text">serverless.yml</code> file in the root of our repository:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml">    <span class="token comment"># serverless.yml</span>
    <span class="token key atrule">service</span><span class="token punctuation">:</span> week<span class="token punctuation">-</span>cron

    <span class="token key atrule">provider</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> aws
      <span class="token key atrule">runtime</span><span class="token punctuation">:</span> nodejs8.10
      <span class="token key atrule">region</span><span class="token punctuation">:</span> <span class="token string">'us-east-1'</span>
      <span class="token key atrule">frameworkVersion</span><span class="token punctuation">:</span> <span class="token string">">=1.43.0"</span>
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">900</span> <span class="token comment"># in seconds</span>
    <span class="token punctuation">...</span></code></pre></div>
<p>Our function needs to connect to our production database, so we supply the secrets we need for that database via environment variables:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml">    <span class="token comment"># serverless.yml</span>
    <span class="token punctuation">...</span>
      <span class="token key atrule">environment</span><span class="token punctuation">:</span>
        <span class="token key atrule">DB_HOST</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>file(./secrets.json)<span class="token punctuation">:</span>DB_HOST<span class="token punctuation">}</span>
        <span class="token key atrule">DB_USER</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>file(./secrets.json)<span class="token punctuation">:</span>DB_USER<span class="token punctuation">}</span>
        <span class="token key atrule">DB_PASS</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>file(./secrets.json)<span class="token punctuation">:</span>DB_PASS<span class="token punctuation">}</span>
        <span class="token key atrule">DB_NAME</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>file(./secrets.json)<span class="token punctuation">:</span>DB_NAME<span class="token punctuation">}</span>
    <span class="token punctuation">...</span></code></pre></div>
<p>We then add the description of our function. We want it to have a single function called <code class="language-text">transfer</code> which performs the database rollover. We want the <code class="language-text">transfer</code> function to run automatically every week at a time when the load for our application is the lowest, say around 3am on Mondays:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml">    <span class="token comment"># serverless.yml</span>
        <span class="token punctuation">...</span>
    <span class="token key atrule">functions</span><span class="token punctuation">:</span>
        <span class="token key atrule">transfer</span><span class="token punctuation">:</span>
        <span class="token key atrule">handler</span><span class="token punctuation">:</span> handler.transfer
        <span class="token key atrule">events</span><span class="token punctuation">:</span>
            <span class="token comment"># every Monday at 03:15 AM</span>
            <span class="token punctuation">-</span> <span class="token key atrule">schedule</span><span class="token punctuation">:</span> cron(15 3 <span class="token punctuation">?</span> * MON <span class="token important">*)</span></code></pre></div>
<h4>Syntax for the Schedule expressions</h4>
<p>In our example above, the <code class="language-text">transfer</code> handler gets run on a schedule specified in the <code class="language-text">events</code> block, in this case via the <code class="language-text">schedule</code> event. The syntax for the <code class="language-text">schedule</code> event can be of two types: </p>
<ul>
<li><code class="language-text">rate</code> — with this syntax you specify the rate at which your function should be triggered.</li>
</ul>
<p>The <code class="language-text">schedule</code> event using the <code class="language-text">rate</code> syntax must specify the rate as <code class="language-text">rate(value unit)</code>. The supported units are <code class="language-text">minute</code>/<code class="language-text">minutes</code>, <code class="language-text">hour</code>/<code class="language-text">hours</code> and <code class="language-text">day</code>/<code class="language-text">days</code>. If the value is 1 then the singular form of the unit should be used, otherwise you’ll need to use the plural form. For example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">          - schedule: rate(15 minutes)
          - schedule: rate(1 hour)
          - schedule: rate(2 days)</code></pre></div>
<ul>
<li><code class="language-text">cron</code> — this option is for specifying a more complex schedule using the Linux <code class="language-text">crontab</code> syntax.</li>
</ul>
<p>The <code class="language-text">cron</code> schedule events use the syntax <code class="language-text">cron(minute hour day-of-month month day-of-week year)</code>.  You can specify multiple values for each unit separated by a comma, and a number of wildcards are available. See <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html">the AWS Schedule Expressions docs page</a> for the full list of supported wildcards restrictions on using multiple wildcards together.</p>
<p>These are valid <code class="language-text">schedule</code> events:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">    # the example from our serverless.yml that runs every Monday at 03:15AM UTC
    - schedule: cron(15 3 ? * MON *)
    # run in 10-minute increments from the start of the hour on all working days
    - schedule: cron(1/10 * ? * W *)
    # run every day at 6:00PM UTC
    - schedule: cron(0 18 * * ? *)</code></pre></div>
<p>You can specify multiple schedule events for each function in case you’d like to combine the schedules. It’s possible to combine <code class="language-text">rate</code> and <code class="language-text">cron</code> events on the same function, too.</p>
<h4>Business logic for transferring database records</h4>
<p>At this point, the description of the function is complete. The next step is to add code to the  <code class="language-text">transfer</code> handler. The <code class="language-text">handler.js</code> file defining the handlers is quite short:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// handler.js</span>
    exports<span class="token punctuation">.</span>transfer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./service/transfer_data"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>func<span class="token punctuation">;</span></code></pre></div>
<p>The actual application logic lives in the <code class="language-text">service/transfer_data.js</code> file.  Let’s take a look at that file next.</p>
<p>The task that we want our application to accomplish is a database rollover. When it runs, the application goes through three steps:</p>
<ol>
<li>Ensures all the necessary database tables are created.</li>
<li>Transfers data from the production table to a “monthly” table.</li>
<li>Cleans up the data that has been transferred from the production table.</li>
</ol>
<p>We assume that no records with past dates can be added in the present, and that creating additional load on the production database is fine.</p>
<p>We start by referencing the helper functions for each of the three tasks we defined above and initializing the utilities for date operations and database access:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// service/transfer_data.js</span>
    <span class="token keyword">var</span> monthTable <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/create_month_table'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> transferData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/transfer_data'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> cleanupData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/cleanup_data'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> dateUtil <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../utils/date'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> Client <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'serverless-mysql'</span><span class="token punctuation">)</span></code></pre></div>
<p>The function code is quite straightforward: ensure the tables exist, transfer the data, delete the data, and log all the actions that are happening. The simplified version is below:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// service/transfer_data.js</span>
    exports<span class="token punctuation">.</span><span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            config<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token operator">...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> weeknumber <span class="token operator">=</span> dateUtil<span class="token punctuation">.</span><span class="token function">getWeekNumber</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> currentWeek <span class="token operator">=</span> weeknumber<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> currentYear <span class="token operator">=</span> weeknumber<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">await</span> monthTable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> currentWeek<span class="token punctuation">,</span> currentYear<span class="token punctuation">)</span>
            <span class="token keyword">await</span> transferData<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> currentWeek<span class="token punctuation">,</span> currentYear<span class="token punctuation">)</span>
            <span class="token keyword">await</span> cleanupData<span class="token punctuation">.</span><span class="token function">cleanup</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> currentWeek<span class="token punctuation">,</span> currentYear<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>sqlMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// handle SQL errors</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// handle other errors</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        client<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>You can find the full version of the file <a href="https://github.com/chief-wizard/serverless-cron-job-example/blob/master/service/transfer_data.js">in our GitHub repository</a>.</p>
<p>The helper function for creating the monthly table exports a single <code class="language-text">create</code> function that essentially consists of a SQL query:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// database/create_month_table.js</span>
    exports<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">client<span class="token punctuation">,</span> week<span class="token punctuation">,</span> year</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        CREATE TABLE IF NOT EXISTS weather_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        (
            id MEDIUMINT UNSIGNED not null AUTO_INCREMENT, 
            date TIMESTAMP,
            city varchar(100) not null, 
            temperature int not null, 
            PRIMARY KEY (id)
        );  
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>The <code class="language-text">transfer_data</code> helper is similar in structure with its own SQL query:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// database/transfer_data.js</span>
    exports<span class="token punctuation">.</span><span class="token function-variable function">transfer</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">client<span class="token punctuation">,</span> week<span class="token punctuation">,</span> year</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> anyId <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">select id from weather where YEAR(date)=? and WEEK(date)=?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>year<span class="token punctuation">,</span> week<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>anyId<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">records does not exists for year = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and week = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        INSERT INTO weather_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        (date, city, temperature)
        select date, city, temperature 
        from weather
        where YEAR(date)=? and WEEK(date)=? 
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>year<span class="token punctuation">,</span> week<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>And finally, the cleanup of the data in the <code class="language-text">cleanup</code> helper looks like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// database/cleanup_data.js</span>
    exports<span class="token punctuation">.</span><span class="token function-variable function">cleanup</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">client<span class="token punctuation">,</span> week<span class="token punctuation">,</span> year</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> anyId <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">select id from weather where YEAR(date)=? and WEEK(date)=?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>year<span class="token punctuation">,</span> week<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>anyId<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cleanup did't needed, because does not exists records for year = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and week = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        anyId <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">select id from weather_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> limit 1</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>year<span class="token punctuation">,</span> week<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>anyId<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cleanup can't finished, because records are not transferred for year = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and week = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        delete
        from weather 
        where YEAR(date)=? and WEEK(date)=? 
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>year<span class="token punctuation">,</span> week<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>With this, the core business logic is done. We also add a number of unit tests for the business logic that can be found <a href="https://github.com/chief-wizard/serverless-cron-job-example/blob/master/test/database_transfer_test.js">in the</a> <code class="language-text">[test](https://github.com/chief-wizard/serverless-cron-job-example/blob/master/test/database_transfer_test.js)</code> <a href="https://github.com/chief-wizard/serverless-cron-job-example/blob/master/test/database_transfer_test.js">directory</a> in our repo.</p>
<p>The next step is to deploy our cron job.</p>
<h4>Deploying our cron job to AWS</h4>
<p>Both the application code and the <code class="language-text">serverless.yml</code> file are now set up. The remaining steps to deploy our cron job are as follows:</p>
<ul>
<li>Install the Serverless Framework.</li>
<li>Install the required dependencies.</li>
<li>Run the deployment step.</li>
</ul>
<p>To install Serverless Framework, we run:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">    $ <span class="token function">npm</span> <span class="token function">install</span> -g serverless</code></pre></div>
<p>To install our application’s dependencies, we run:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">    $ <span class="token function">npm</span> <span class="token function">install</span></code></pre></div>
<p>in the project directory.</p>
<p>We now have two options for how to run the deployment step. One option involves setting up AWS credentials on your local machine, and the other is to set up the AWS credentials in the Serverless Dashboard without giving your local machine direct access to AWS.</p>
<p><strong>Option 1:</strong> <strong>Use AWS credentials on the development machine</strong>
This option works well if you have only one person deploying a sample cron job, or if the developers on your team already have access to the relevant AWS production account. We don’t recommend this option for larger teams and production applications. Follow these steps:</p>
<ol>
<li>Make sure that the AWS CLI is installed locally. Try running <code class="language-text">aws --version</code>, and if the CLI is not yet installed, run <code class="language-text">pip install awscli</code>.</li>
<li>Configure the AWS credentials for the AWS CLI by running <code class="language-text">aws configure</code>.</li>
<li>Once the credentials are set up, run <code class="language-text">serverless deploy</code> to deploy the cron job.</li>
</ol>
<p><strong>Option 2:</strong> <strong>Use the Serverless Dashboard to generate single-use AWS credentials for each deploy</strong>
We recommend this option for teams with multiple developers. With this setup, you grant the Serverless Dashboard a set of AWS permissions, and for each deploy the Serverless Framework will generate a single-use credential with limited permissions to deploy your cron job.</p>
<p>Before deploying, if you don’t yet have an account, sign up for <a href="https://serverless.com">the Serverless Dashboard</a>. Once your account is set up, create a new application using the <em>Add</em> button:</p>
<p><img src="https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cron-jobs-on-aws/serverless-aws-cron-applications.png"></p>
<p>To make sure Serverless Framework knows which application to associate with our cron job, we add the <code class="language-text">tenant</code> and <code class="language-text">app</code> attributes to the <code class="language-text">serverless.yml</code> file at the root level. You will need to replace the values shown here with the ones from your Serverless account:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml">    <span class="token comment"># serverless.yml</span>

    <span class="token comment"># our Serverless Dashboard account name</span>
    <span class="token key atrule">tenant</span><span class="token punctuation">:</span> chiefwizard
    <span class="token comment"># our Serverless Dashboard application name</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> cron<span class="token punctuation">-</span>database<span class="token punctuation">-</span>rollover</code></pre></div>
<p>After that, the steps to deploy are:</p>
<ol>
<li>In the Dashboard, navigate to Profiles → Create or choose a profile → AWS credential access role.</li>
<li>Select <em>Personal AWS Account</em> and specify the IAM role you’d like to use for deployment. If the role doesn’t exist yet, click the <em>Create a role</em> link to create it.</li>
<li>Click <em>Save and Exit.</em>
<img src="https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cron-jobs-on-aws/aws-profiles-setup.png"></li>
<li>Run <code class="language-text">serverless login</code> in the console on your local machine and log in with your Serverless Dashboard credentials.</li>
<li>Run <code class="language-text">serverless deploy</code> without configuring the production AWS account on your machine.</li>
</ol>
<p>Done! The cron job is deployed and will run on the schedule that we configured in the <code class="language-text">serverless.yml</code> file.</p>
<p>Check out <a href="https://www.youtube.com/watch?v=KTsWDCXvxqU">this YouTube video</a> where we walk through the deployment process live.</p>
<h4>Setting up monitoring for your cron job</h4>
<p>When you deploy via the Serverless Dashboard (our recommended approach), the monitoring is already set up once the cron job is deployed. On the Applications page, we click through to the deployment we just ran:</p>
<p><img src="https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cron-jobs-on-aws/aws-database-cron.png"></p>
<p>On the deployment page, when we go to the Overview section we see the list of alerts and a graph of function invocations and errors:</p>
<p><img src="https://s3-us-west-2.amazonaws.com/assets.blog.serverless.com/cron-jobs-on-aws/aws-cron-job-alerts.png"></p>
<p>It’s currently empty, but more information will appear as the cron job starts being invoked. On the Alerts tab, any alerts relevant to your cron job will be displayed. That’s it! No extra work needed to set up monitoring and alerting.</p>
<p>Deploying via the Serverless Dashboard also allows you to use the Dashboard to look through recent invocations of your function (to be found in the Invocations Explorer tab), list all the deployments of your service, and more.</p>
<h4>Writing and running tests for your cron job</h4>
<p>To increase confidence in our cron job’s code, we’ll create a few unit tests to cover the main parts of our database rollover logic in the <code class="language-text">test/database_transfer_test.js</code> file.</p>
<p>We start by requiring all of our helper files and setting up the test data:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// test/database_transfer_test.js</span>
    <span class="token keyword">var</span> assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> dateUtil <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../utils/date'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> monthTable <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/create_month_table'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> transferData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/transfer_data'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> cleanupData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/cleanup_data'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> init <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../database/init_data'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> Client <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'serverless-mysql'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> secrets <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">"secrets.json"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Transfer test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// initialize the database client</span>
        <span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            config<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token operator">...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// set up the test vars</span>
        <span class="token operator">...</span></code></pre></div>
<p>Within the <code class="language-text">describe</code> block, we add individual tests for our business logic. For example, in this snippet we test the <code class="language-text">monthTable.create</code> helper function:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token comment">// test/database_transfer_test.js</span>
    <span class="token operator">...</span>
        <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'#monthTable.create(client, week, year)'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'exists new table for week = 33 and year = 2018'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">drop table if exists weather_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token keyword">await</span> monthTable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> week<span class="token punctuation">,</span> year<span class="token punctuation">)</span>
                <span class="token keyword">var</span> anyId <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SELECT table_schema db,table_name tb  FROM information_schema.TABLES
                where table_name='weather_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>week<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>anyId<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span></code></pre></div>
<p>We continue in this fashion until all key pieces of our cron job are covered by unit tests (or, if you prefer, integration tests). See all the tests <a href="https://github.com/chief-wizard/serverless-cron-job-example/blob/master/test/database_transfer_test.js">in our example repo</a>.</p>
<p>To run the tests, we need to make sure we have a MySQL instance running locally. If you need to install MySQL, pick a method that works for your <a href="https://dev.mysql.com/downloads/">from the MySQL Community Downloads page</a>.</p>
<p>On our Mac, we’ve installed MySQL using Homebrew, and to start it we run:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">    $ brew services start mysql
    <span class="token operator">==</span><span class="token operator">></span> Successfully started <span class="token variable"><span class="token variable">`</span>mysql<span class="token variable">`</span></span> <span class="token punctuation">(</span>label: homebrew.mxcl.mysql<span class="token punctuation">)</span></code></pre></div>
<p>To create the test database, we connect to MySQL via the CLI:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">    $ mysql -uroot
    Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
    Your MySQL connection <span class="token function">id</span> is <span class="token number">3</span>
    Server version: <span class="token number">5.7</span>.16 Homebrew

    Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2016</span>, Oracle and/or its affiliates. All rights reserved.

    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.

    Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'<span class="token entity" title="\c">\c</span>'</span> to <span class="token function">clear</span> the current input statement.

    mysql<span class="token operator">></span> create database testdb<span class="token punctuation">;</span>
    Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

    mysql<span class="token operator">></span> ^DBye</code></pre></div>
<p>In our <code class="language-text">secrets.json</code> file, we set up the local credentials for the MySQL database:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">    # secrets.json
    <span class="token punctuation">{</span>
      <span class="token property">"DB_HOST"</span><span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
      <span class="token property">"DB_USER"</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>
      <span class="token property">"DB_PASS"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token property">"DB_NAME"</span><span class="token operator">:</span> <span class="token string">"testdb"</span>
    <span class="token punctuation">}</span></code></pre></div>
<p><strong>Note:</strong> by default, MySQL root password is empty. Please consider changing the password to something more secure and make sure that you’re not exposing the database outside of your local development environment.</p>
<p>With the credentials configured, we can now run the tests:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">    <span class="token function">npm</span> <span class="token builtin class-name">test</span>

    <span class="token operator">></span> cron-aws@1.0.0 <span class="token builtin class-name">test</span> /Users/alexey/wizard/serverless-cron-job-example
    <span class="token operator">></span> mocha

      Transfer <span class="token builtin class-name">test</span>
        <span class="token comment">#init(client, year, month, day, city)</span>
          ✓ exists record <span class="token keyword">for</span> <span class="token number">2018</span>/08/21 <span class="token punctuation">(</span>167ms<span class="token punctuation">)</span>
        <span class="token comment">#monthTable.create(client, week, year)</span>
          ✓ exists new table <span class="token keyword">for</span> week <span class="token operator">=</span> <span class="token number">33</span> and year <span class="token operator">=</span> <span class="token number">2018</span>
        <span class="token comment">#transferData.transfer(client, week, year)</span>
          ✓ exists record <span class="token keyword">in</span> new and old table <span class="token keyword">for</span> week <span class="token operator">=</span> <span class="token number">33</span> and year <span class="token operator">=</span> <span class="token number">2018</span>
        <span class="token comment">#cleanupData.cleanup(client, week, year)</span>
          ✓ exists record <span class="token keyword">in</span> new table and not exists <span class="token keyword">in</span> old table <span class="token keyword">for</span> week <span class="token operator">=</span> <span class="token number">33</span> and year <span class="token operator">=</span> <span class="token number">2018</span>

      Date utils <span class="token builtin class-name">test</span>
        <span class="token comment">#getWeekNumber(d)</span>
          ✓ should <span class="token builtin class-name">return</span> week <span class="token operator">=</span> <span class="token number">33</span> and year <span class="token operator">=</span> <span class="token number">2018</span> <span class="token keyword">for</span> <span class="token number">2018</span>/08/21


      <span class="token number">5</span> passing <span class="token punctuation">(</span>205ms<span class="token punctuation">)</span></code></pre></div>
<p>Great! Our cron job is good to go.</p>
<h4>Iterating on the cron job</h4>
<p>In order to iterate on and update the cron job’s code, just run <code class="language-text">serverless deploy</code> after you’ve made your changes to deploy the newest version. We recommend setting up <a href="https://serverless.com/framework/docs/dashboard/pipelines/">a CI/CD pipeline</a> to continuously validate and deploy your cron job every time you push changes to GitHub.</p>
<p>The full example of the application we just walked through is available <a href="https://github.com/chief-wizard/serverless-cron-job-example">in our GitHub repo</a>.</p>
<h3>Summary</h3>
<p>In this article, we walked through creating and deploying a cron job on AWS with Serverless Framework. Using AWS Lambda may be a better fit for your cron jobs than AWS EC2, since with Lambda you pay only for what you use, and good infrastructure is already in place to deploy, monitor, and secure the cron jobs you create.</p>
<p>Working with AWS Lambda directly can be challenging in terms of the developer experience. By using Serverless Framework, you get a easier deployment and iteration flow and also benefit from built-in AWS credentials management, zero-setup monitoring for your cron jobs, and more. Using Serverless Framework also helps you avoid vendor lock-in should you ever decide to migrate away from AWS.</p>
<p>While we believe that using AWS Lambda with Serverless Framework is a great solution for most kinds of cron jobs, Lambda does have a number of limitations. If your jobs need to run for longer than 15 minutes, for example, or if your functions need access to special hardware (a GPU, for example), then using EC2 might be a better fit. In addition, when you have a very high volume of cron jobs running simultaneously, using EC2 might well be more cost-effective in the long run.</p>
<p>You can find the full example that we walked through <a href="https://github.com/chief-wizard/serverless-cron-job-example">in our GitHub repo</a>.</p>
<p>Check out the details of Serverless Framework <a href="https://serverless.com">on the Serverless website</a>. <a href="https://serverless.com/framework/docs/providers/aws/cli-reference/">The Serverless AWS docs</a> might be helpful, as well as the reference <a href="https://serverless.com/framework/docs/dashboard/">for the Serverless Dashboard</a>.</p>
<p>Find more examples of Serverless applications <a href="https://serverless.com/examples/">on our Examples page.</a></p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAUBAgME/8QAFwEBAAMAAAAAAAAAAAAAAAAAAgABA//aAAwDAQACEAMQAAABtTuWpVlGVPBk0HAFf//EABsQAAICAwEAAAAAAAAAAAAAAAECAxMAESMk/9oACAEBAAEFAnOlgZ7cvIZnEYuxj6ZjxjOh/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEiH/2gAIAQMBAT8BwqOP/8QAGREAAQUAAAAAAAAAAAAAAAAAAAEQEiEx/9oACAECAQE/AbJCY3//xAAgEAABAgUFAAAAAAAAAAAAAAABABECAxASITFBYYGR/9oACAEBAAY/Ai2qYx3A0tPifYlsLBBT8qX3T//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExQVH/2gAIAQEAAT8hRVcZF9KXnJkRaRWsbCd3oQNMD6x1eoRshVw76T//2gAMAwEAAgADAAAAENvoAP/EABkRAAIDAQAAAAAAAAAAAAAAAAABESExUf/aAAgBAwEBPxCEpsj00xYf/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAEQESExUf/aAAgBAgEBPxBNs0X5A9n/xAAeEAEBAQACAQUAAAAAAAAAAAABEQAhMUFRYXGBkf/aAAgBAQABPxClwdnV0whQo4lO/wAzyyrjkGw+cZbkILxecbfXBH7zSeBntAmta2n5uEBbXZ4N/9k=" alt="Kyle Mathews" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/lumen/static/4f27694bd7811d13157e5e488ad64f43/99438/profile-pic.jpg 1x,
/lumen/static/4f27694bd7811d13157e5e488ad64f43/aba1d/profile-pic.jpg 1.5x,
/lumen/static/4f27694bd7811d13157e5e488ad64f43/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/lumen/static/4f27694bd7811d13157e5e488ad64f43/99438/profile-pic.jpg 1x,
/lumen/static/4f27694bd7811d13157e5e488ad64f43/aba1d/profile-pic.jpg 1.5x,
/lumen/static/4f27694bd7811d13157e5e488ad64f43/b315d/profile-pic.jpg 2x" src="/lumen/static/4f27694bd7811d13157e5e488ad64f43/99438/profile-pic.jpg" alt="Kyle Mathews" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Kyle Mathews</strong> <!-- -->who lives and works in San Francisco building useful things.<!-- --> <a href="https://twitter.com/kylemathews">You should follow him on Twitter</a></p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/lumen/posts/2019-10-14-serverless-deployment-best-practices/">← <!-- -->Serverless Deployment Best Practices</a></li><li><a rel="next" href="/lumen/posts/2019-10-29-aws-lambda-performance-optimization/">AWS Lambda Performance Optimization &amp; Monitoring with Tracing &amp; Spans (Serverless Framework Pro)<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2019-10-23-cron-jobs-on-aws/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-36e457a5393b79b99515.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9578b926700cf49bb4fc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-753a3f9bde0636fce206.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-f16d60f62c7d2b3e9bcc.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-e4c781a4720974cc2679.js"]};/*]]>*/</script><script src="/lumen/component---src-templates-blog-post-js-e4c781a4720974cc2679.js" async=""></script><script src="/lumen/cd7d5f864fc9e15ed8adef086269b0aeff617554-c8f68cb3ade1320f5257.js" async=""></script><script src="/lumen/commons-4c36ffabef1434ec1126.js" async=""></script><script src="/lumen/app-36e457a5393b79b99515.js" async=""></script><script src="/lumen/styles-cd63080e784be7b7e7cf.js" async=""></script><script src="/lumen/framework-5fc6169171e885c3b522.js" async=""></script><script src="/lumen/webpack-runtime-c76c0c9d42bc9bf56761.js" async=""></script></body></html>